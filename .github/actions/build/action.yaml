name: Build
description: 'Builds the application.'

inputs:
  base-href:
    description: 'Base href for the application'
    required: false
    default: ''

runs:
  using: 'composite'
  steps:
    - name: Setup environment
      uses: ./.github/actions/workspace-setup

    - name: Run build
      shell: bash
      run: |
        BASE_HREF="${{ inputs.base-href }}"
        if [ -n "$BASE_HREF" ]; then
          pnpm run build "--base-href=$BASE_HREF"
        else
          pnpm run build
        fi
